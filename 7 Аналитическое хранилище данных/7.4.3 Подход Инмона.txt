Подход Инмона
Когда инженеры приступают к проектированию хранилища, их встречают Инмон и Кимбалл — авторы двух наиболее популярных подходов к построению DWH. Споры о том, какой из них лучше и эффективнее для бизнеса, идут до сих пор. Оба метода имеют свои преимущества и недостатки и используются для определённых задач. Мы расскажем вам об обоих подходах и начнём с Инмона.
Пара слов об Инмоне
Билла Инмона принято называть отцом хранилищ данных: он начал обсуждать принципы DWH и ввёл этот термин ещё в 1970-х годах. В июле 2007 года издание „Computerworld“ назвало Инмона одним из десяти человек, оказавших наибольшее влияние на первые 40 лет IT-индустрии.
С конца 1970-х по 1980-е годы Инмон много работал с реляционными БД. За проектирование хранилищ он взялся в первой половине 1990-х годов, когда основал свою первую компанию Prism Solutions. Среди её продуктов был Prism Warehouse Manager — один из первых отраслевых инструментов для создания и управления хранилищем данных.
В 1992 году Инмон опубликовал книгу „Building the Data Warehouse“. В ней сочетаются теория и реальные примеры, и для многих специалистов по работе с данными эта книга — часть библиотеки. 
Сегодня Билл Инмон продолжает работать с данными. Он руководит компанией Forest Rim Technology, которая применяет и внедряет решения для хранения данных.
Архитектура подхода
Подход Инмона предполагает определённый порядок построения элементов хранилища:
Логическая модель данных.

Для неё нужно определить основные предметные области бизнеса и его ключевые субъекты: клиенты, продукт или услугу и прочее. Она включает в себя все сущности, атрибуты, ключи и взаимосвязи, которые представляют бизнес-информацию и определяют бизнес-правила.
Физическая модель.

Физическая модель включает в себя все необходимые таблицы, столбцы, связи, свойства базы данных для физической реализации БД. Структура субъекта представляется в нормализованном виде. 3NF не обязательна, но желательна — по возможности избегается избыточность данных. Это ключевая особенность метода. Нормализация помогает строго определить бизнес-области и избежать аномалий при обновлении данных.
ETL- и ELT-процессы.

Так как хранилище — единственный источник достоверной информации для предприятия и его структура универсальна для всех бизнес-областей, процесс загрузки данных упрощается. Но приведение хранилища к универсальной нормализованной форме увеличивает общее количество таблиц — это сильно усложняет как запросы к хранилищу, так и написание витрин.
Витрины данных.

Для каждого отдела (финансов, продаж, развития, маркетинга) нужно построить свою витрину. Данные для них берутся из единого источника (DWH), поэтому информация в витринах — гарантированно целостная и полная.
Таким образом, классическое хранилище по Инмону состоит из следующих слоёв:
Staging-область (Staging Area).
    Этого слоя может не быть, если вместо ETL-процесса используется ELT и данные из источника трансформируются сразу в форму, пригодную для структуры основного слоя хранилища. Но раскладывать таблицы в 3NF — задача непростая, поэтому чаще всего в хранилищах по Инмону staging-слой есть.
Ядро DWH.
    Это основной слой хранилища. Здесь хранятся очищенные данные, приведённые к общему виду. Как правило, данные хранятся в нём в 3NF. 
Витрины данных (Data Marts).
    Слой с витринами, которые предоставляют пользователям лёгкий доступ к различным срезам данных.
Схема показывает описанную выше структуру хранилища по Инмону.
Плюсы и минусы подхода
Хранилище данных, построенное по Инмону, отлично справляется с масштабированием, добавлением и удалением новых источников и других сущностей, сохраняя при этом целостность данных. Поэтому подход хорошо применим для создания корпоративных хранилищ с большим количеством бизнес-областей.
Плюсы такого хранилища становятся хорошо заметны спустя годы работы. В перспективе же пары лет разницу можно и не заметить. Таким образом, для небольших компаний без особых требований к истории данных подход Инмона излишне сложен и дорог.
Однако при реализации подхода Инмона разработка ETL-процессов сложнее, чем в подходе Кимбалла. Поскольку основной слой хранилища, ядро, нормализован, создать ETL-процессы, которые сразу бы преобразовывали данные и складывали их в нормализованные таблицы, непросто. Поэтому в большинстве случаев хранилища по Инмону имеют промежуточную staging-область, а также слой витрин, чтобы аналитики не мучались с объединением нескольких таблиц в 3NF.
К тому же, 3NF, к которой близок основной слой, подразумевает большое количество таблиц, что напрямую влияет на количество ETL-процессов и количество запросов, которые используют JOIN.
Посмотрите на черновые схемы основного слоя хранилища из проекта для страховой компании. На какой из них изображена часть хранилища, построенная по методологии Инмона?




Правильный ответ

Структура субъектов в нормализованном виде — признак того, что это хранилище по Инмону.




Так, хранилища Инмона изучили. Давайте теперь узнаем, как на построение DWH смотрит Кимбалл.

