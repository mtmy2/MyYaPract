Особенности OLAP
В предыдущей теме вы практиковались в нормализации на таблицах абстрактного интернет-магазина. Вы строили для него реляционную модель, чтобы удобно обрабатывать транзакции. Представьте, что магазину понадобилось проанализировать информацию по заказам: какой товар был популярнее всего, сколько заработали и т. д. Чтобы провести такой анализ, реляционной модели будет недостаточно. Нужно воспользоваться многомерной моделью, или OLAP-модель.
Многомерная, или OLAP-модель — это способ проектирования структур данных так, чтобы они подходили для анализа. В многомерной модели удобно работать с большим массивом данных и выполнять аналитические операции по типу соединения массивов, фильтрации, агрегации, выбора нескольких колонок и т. д. Такая модель подходит для того, чтобы изучать состояние бизнеса.
В основе многомерной модели лежат следующие элементы:
Измерение (англ. Dimension) — самостоятельный объект, отвечающий на вопросы «кто?», «что?», «где?» или «когда?». Например, дата вида yyyy.mm.dd — это измерение, так как она чётко определяет конкретный день. Город и товар — тоже измерения, так как отвечают на вопросы «где?» и «что?» соответственно.
Атрибут (англ. Attribute) — характеристика измерения. Например, у измерения Дата может быть атрибут Рабочий/Выходной день, а у измерения Товар — атрибут Имя производителя.

Атрибуты представлены в виде иерархической структуры. Для одного измерения может быть несколько иерархий. Например, у измерения Дата могут быть такие иерархии: Год→ Месяц→ День или Финансовый год→ Квартал → Месяц→ День.
Показатель (англ. Value) — числовое значение, отвечающее на вопрос «сколько?». Например, количество произведённых товаров. Это число можно агрегировать различными функциями: сумма, среднее и т. д.
Вернёмся к примеру с интернет-магазином. Допустим, аналитика магазина попросили подготовить отчёт, отвечающий на вопрос: «Какие товары производителя „Ромашка“ и в каком количестве были проданы за 13 и 14 января 2023 года?». Если разделить вопрос на части и соотнести с элементами модели, получится такая таблица:
Часть вопроса	Элементы модели	Характеристика
Какие товары?	Измерение Товар	Самостоятельный объект
В каком количестве?	Показатель Продажи	Числовое значение
Два первых дня месяца	Измерение Дата	Самостоятельный объект
Производитель Ромашка	Атрибут Производитель	Расширяет значение измерения
В OLAP используют многомерные массивы данных, которые принято называть OLAP-кубами. Как правило, их делают разреженными и долговременно хранимыми — так данные удобнее анализировать. Они могут быть реализованы как непосредственно в реляционной БД, так и в специальных ПО.
На схеме изображён куб из таблиц. Измерения подписаны зелёным, атрибуты — голубым, показатели — красным. Верхняя грань куба содержит информацию о городах-измерениях: Москва, Тверь, Омск, Златоуст. Показатели разбиты на два столбца, по дате:
|   | 13.01.2023 | 14.01.2023 |
| --- | --- | --- |
| Москва | 41 | 43 |
| Тверь | 31 | 32 |
| Омск | 32 | 30 |
| Златоуст | 22 | 41 |
На второй грани — количество продаж по товару и производителю, также разложенное по датам.  
|   | 13.01.2023 | 14.01.2023 |
| --- | --- | --- |
| “Ромашка” | 11 | 9 |
| “Одуванчик“ | 12 | 10 |
| “Тюльпан“ | 23 | 23 |
| “Одуванчик“ | 17 | 20 |
| “Маргаритка“ | 15 | 18 |
| “Василёк“ | 15 | 15 |
| “Ромашка” | 14 | 22 |
| “Тюльпан“ | 19 | 21 |
Атрибуты-производители попарно объединены измерениями-товарами в таком порядке: платья, футболки, шорты, носки. Третья грань куба при этом пуста.
Показатель, разложенный по измерениям и атрибутам, называется фактом. Их могут собирать в так называемые фактовые таблицы. Ниже представлена часть фактовой таблицы с данными из OLAP-куба.
Товар	Город	Дата	Производитель	Продажи
Платья	Москва	13.01.23	Ромашка	4
Платья	Тверь	13.01.23	Ромашка	3
Платья	Омск	13.01.23	Ромашка	2
Платья	Златоуст	13.01.23	Ромашка	2
Характеристики OLAP-систем
Можно выделить следующие отличительные особенности OLAP:
Многомерность данных.

OLAP-системы организуют данные в многомерных кубах, что позволяет анализировать информацию по различным измерениям одновременно.
Высокая производительность сложных аналитических запросов.

OLAP-системы оптимизированы для анализа. Они предварительно вычисляют и сохраняют агрегированные данные, что позволяет быстро отвечать на запросы пользователей.
Поддержка множества источников данных.

OLAP-системы могут интегрировать данные из разных источников — реляционные базы данных, файлы, веб-сервисы и другие. Это позволяет создавать комплексные аналитические модели.
Интерактивный интерфейс.

В распоряжении пользователей OLAP-систем — удобные средства для визуализации и анализа данных. Например, графики, диаграммы, отчёты и интерактивные дашборды.
Поддержка сложных вычислений.

OLAP-системы предоставляют возможность проводить сложные аналитические вычисления, такие как расчёты долей, процентов, скользящих средних и т. д.
Хранение исторических данных.

OLAP-системы способны обрабатывать исторические данные, позволяя анализировать динамику изменений в данных с течением времени.
Эти особенности делают OLAP-системы мощным инструментом для анализа данных и принятия стратегических решений в организациях.
Вы познакомились с OLAP-системами и их характеристиками. Выберите верные утверждения.


Измерение всегда выражено в числовой форме.

Правильный ответ
Атрибуты — это характеристики измерений.
Благодаря атрибутам данные можно анализировать по разным разрезам.

Неправильный ответ
Показатели могут быть представлены в виде иерархической структуры.
Это характеристика атрибутов.

Тоже правильный ответ
Факт — показатель, разложенный по измерениям и атрибутам.
Если разложить показатель по измерениям и атрибутам, получится факт.


