Выбор подхода для DWH
Марат
Алиса, привет! Требования собраны. Заказчику нужно хранилище по Кимбаллу и два отчёта.
Алиса
А почему по Кимбаллу?
Марат
Они не собираются добавлять новые бизнес-области и сильно расширять DWH. Плюс — ждут быстро реализованные отчёты. Мне кажется, Кимбалл тут подходит больше всего.
Алиса
Хорошо, звучит разумно. А какие там источники?
Марат
Есть три источника, вот схема.

Алиса
Ага, нам теперь надо определиться с детализацией основного слоя хранилища — давай выделим необходимые сущности.
Выберите сущности, которые стоит выделить для построения ядра хранилища. Отталкивайтесь от требований заказчика и выбранной методологии (по Кимбаллу).


Стоит выделить хабы — мастер, заказчик, товар, заказ, а также линк, который связывает все хабы, и сателлиты для каждого из хабов с соответствующими описательными атрибутами.

Правильный ответ
Стоит выделить таблицу фактов заказы, а также измерения — мастер, товар, заказчик.
Получилась идеальная звезда по Кимбаллу!
Алиса
Мне кажется, что загрузка данных напрямую из источников в ядро не должна вызвать трудности, поэтому не будем делать staging-слой — сохраним место на диске и время на разработку. Думаю, можно приступать к реализации. Создай структуру ядра хранилища.
Лика, второй стажёр, создала таблицы измерений dwh.d_customer, dwh.d_product и dwh.d_craftsmen и заполнила их данными из источников. Изучи их. После этого нужно будет создать таблицу фактов и скрипт заполнения таблиц.
Изучите таблицы dwh.d_customer, dwh.d_product и dwh.d_craftsmen и выберите высказывания, которые их описывают.


Все таблицы можно связать друг с другом через внешние ключи.

Тоже правильный ответ
Таблицы содержат данные с двумя датами загрузки (поле load_dttm).
Либо Лика разделила данные из источников на две части и загрузила их в разное время, либо в одно, но проставила разную дату в load_dttm. Возможно, она проверяла, как будут загружаться новые или изменённые данные.

Тоже правильный ответ
Таблицы содержат разное количество строк.
В данных есть несколько мастеров и товаров, которые встречаются в заказах разных заказчиков. Получается, что измерения товаров и мастеров содержат меньше записей, чем измерение заказчика.

Неправильный ответ
Без дополнительной документации невозможно понять, что именно хранится в этих таблицах.
Таблицы и их поля имеют комментарии, благодаря которым можно узнать бизнес-смысл сущностей.
