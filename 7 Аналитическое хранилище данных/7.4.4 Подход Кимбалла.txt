Подход Кимбалла
В прошлом уроке вы познакомились с одним из наиболее распространённых подходов к построению хранилищ. Здесь расскажем про другой, не менее известный подход. Его автор — Ральф Кимбалл.
Пара слов о Кимбалле
В то время как книга Инмона „Building the Data Warehouse“ обеспечила надёжную теоретическую основу для концепций, связанных с хранилищем, именно „The Data Warehouse Toolkit“ Ральфа Кимбалла, опубликованная в 1996 году, объединила множество отработанных практических примеров моделирования OLAP-систем, в том числе концепцию медленно меняющихся измерений (SCD), с которой вы познакомитесь в следующей теме.
Кимбалл начинал свою карьеру в качестве ключевого разработчика станции Xerox Star Workstation, первого компьютера, использующего мышь и оконную операционную систему — дело было в 1970-х годах. Полноценное приложение Data Warehouse стало основным продуктом собственной компании Кимбалла Red Brick Systems, основанной в 1986 году.
Red Brick был известен своей реляционной моделью, подходящей для высокоскоростных приложений хранилища. Кимбалл покинул Red Brick в 1992 году, чтобы основать собственную консалтинговую компанию Ralph Kimball Associates, которая теперь — часть Kimball Group. Вскоре последовала его знаменитая серия книг Data Warehouse Toolkit. Дополнительные тома этой серии посвящены смежным темам: веб-хранилище, ETL в среде хранилища, а также специальные выпуски „The Microsoft Data Warehouse Toolkit“, охватывающие SQL Server и набор инструментов Microsoft Business Intelligence.
Архитектура подхода
Построение хранилища данных по Кимбаллу выглядит так:
Определение основных процессов и вопросов бизнеса, на которые хранилищу необходимо ответить.
Определение уровня детализации данных. Например, таблица Магазин может хранить внутри себя информацию об адресе магазина и имени управляющего, а можно и разбить эту информацию на три атомарные сущности — Магазин, Адрес, Управляющий, — зависит от требований бизнеса (на две сущности разбить таблицу тоже можно — всё очень гибко).
Проектирование физической модели детального слоя хранилища — таблиц измерений и фактов, исходя из первых двух пунктов.
Построение ETL- и ELT-процессов: в отличие от построения процессов по подходу Инмона, в подходе Кимбалла ETL- и ELT-процессы менее универсальны и заточены под загрузку определённых объектов.
Проектирование витрин — необязательный пункт, так как само хранилище содержит данные в денормализированном виде, что облегчает работу пользователей с ними.
В классическом хранилище по Кимбаллу можно выделить следующие слои:
Staging-область (Staging Area) — может отсутствовать, если ETL-процесс берёт данные из источника и трансформирует их сразу в форму, пригодную для структуры основного слоя хранилища.
Ядро DWH — слой, на котором данные разложены на факты и измерения.
Слой витрин (Data Marts) — слой с витринами, которые предоставляют пользователям лёгкий доступ к различным срезам данных. Может отсутствовать, так как обращение к основному слою хранилища в подходе Кимбалла упрощено.

Применение подхода
Если вам нужно быстро и недорого создать хранилище для заказчика, который хочет получать ограниченный и строго определённый набор данных, хранилище по Кимбаллу — лучшее решение. Из-за меньшего количества таблиц и более простой логики ETL- и ELT-процессов (они не должны быть универсальны и обычно пишутся для загрузки каждой отдельной таблицы) разработка DWH с нуля и предоставление результата заказчику занимает гораздо меньше времени, чем при разработке хранилища по Инмону.
Но, конечно же, у этого подхода есть и недостатки: из-за отсутствия универсальности в сущностях и процессах хранилище очень сложно расширять, поэтому работа с ним в крупных компаниях в долгой перспективе становится затруднительной.
Вы уже знакомы со схемами основного слоя хранилища из проекта для страховой компании. Определите, какая из этих схем отображает часть ядра хранилища, построенного по методологии Кимбалла.


Правильный ответ

Денормализованные таблицы фактов и измерений, формирующие ядро хранилища, в схеме «звезда» — визитная карточка подхода Кимбалла.






Осталось только сравнить плюсы и минусы подходов Инмона и Кимбалла к построению DWH.


